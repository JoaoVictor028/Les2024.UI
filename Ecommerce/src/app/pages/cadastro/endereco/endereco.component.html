<div class="stepsdemo-content">
    <p-card>
        <ng-template pTemplate="title"> Endereço </ng-template>
        <ng-template pTemplate="subtitle"> Insira seu endereço de entrega </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid formgrid grid">
                <div class="field col-12 md:col-4">
                    <label for="cep">CEP</label>
                    <input
                        #cep="ngModel"
                        id="cep"
                        type="text"
                        required
                        pInputText
                        [(ngModel)]="enderecoInformation.cep"
                        (ngModelChange)="buscarCep()"
                        [ngClass]="{ 'ng-dirty': (cep.invalid && submitted) || (cep.dirty && cep.invalid) }"
                    />
                    <small 
                        *ngIf="(cep.invalid && submitted) || (cep.dirty && cep.invalid)" 
                        class="p-error">CEP é necessário.
                    </small>
                </div>
                <div class="field col-12 md:col-4">
                    <label for="logradouro">Logradouro</label>
                    <input
                        #logradouro="ngModel"
                        id="logradouro"
                        type="text"
                        required
                        pInputText
                        [(ngModel)]="enderecoInformation.logradouro"
                        [ngClass]="{ 'ng-dirty': (logradouro.invalid && submitted) || (logradouro.dirty && logradouro.invalid) }"
                    />
                    <small 
                        *ngIf="(logradouro.invalid && submitted) || (logradouro.dirty && logradouro.invalid)" 
                        class="p-error">Logradouro é necessário.
                    </small>
                </div>
                <div class="field col-12 md:col-4">
                    <label for="bairro">Bairro</label>
                    <input
                        #bairro="ngModel"
                        id="bairro"
                        type="text"
                        required
                        pInputText
                        [(ngModel)]="enderecoInformation.bairro"
                        [ngClass]="{ 'ng-dirty': (bairro.invalid && submitted) || (bairro.dirty && bairro.invalid) }"
                    />
                    <small 
                        *ngIf="(bairro.invalid && submitted) || (bairro.dirty && bairro.invalid)" 
                        class="p-error">Bairro é necessário.
                    </small>
                </div>
                <div class="field col-12 md:col-6">
                    <label for="cidade">Cidade</label>
                    <p-dropdown inputId="cidade" 
                        [options]="cidades" 
                        [(ngModel)]="enderecoInformation.cidade"
                        (onChange)="onCidadeChange($event)" 
                        optionLabel="nome" 
                        placeholder="Selecione a cidade"></p-dropdown>
                </div>
                <div class="field col-12 md:col-6">
                    <label for="estado">Estado</label>
                    <p-dropdown inputId="estado" 
                        [options]="estados" 
                        [(ngModel)]="enderecoInformation.estado" 
                        (onChange)="onEstadoChange($event)" 
                        optionLabel="sigla" 
                        placeholder="Selecione o Estado"></p-dropdown>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <div class="grid grid-nogutter justify-content-between">
                <p-button label="Back" (onClick)="prevPage()" icon="pi pi-angle-left"></p-button>
                <p-button label="Next" (onClick)="nextPage()" icon="pi pi-angle-right" iconPos="right"></p-button>
            </div>
        </ng-template>
    </p-card>
</div>
